MODULE Module1
        
     VAR robtarget position;
     VAR robtarget starting_position;
     VAR robtarget home;
     VAR jointtarget joints;
     VAR speeddata velocity;
     VAR num speed;
    TASK PERS wobjdata wobj:=[FALSE,FALSE,"ROB_1",[[639.116,-22.796,-980.437],[1,0,0,0]],[[0,0,0],[1,0,0,0]]];
    

    PROC main()
        
!home := [ [1307.14, 0.00, 1120.00], [1, 0, 0, 0], [-1, -1, 0, 1], [ 0, 0, 9E9, 9E9, 9E9, 9E9]];    
!MoveJ home, v100,z50,Tooldata_9;
move 0,0,0,-26.59,0,0,800,1;
move -10.78,35.887,0,-27.74,0,0,800,0;
move -21.45,71.354,0,-28.66,0,0,800,0;
move -31.91,106.12,0,-29.34,0,0,800,0;
move -42.04,139.9,0,-29.79,0,0,800,0;
move -51.74,172.43,0,-29.99,0,0,800,0;
move -60.92,203.45,0,-29.95,0,0,800,0;
move -69.47,232.71,0,-29.67,0,0,800,0;
move -77.31,259.98,0,-29.15,0,0,800,0;
move -84.34,285.06,0,-28.39,0,0,800,0;
move -90.5,307.74,0,-27.41,0,0,800,0;
move -95.7,327.85,0,-26.21,0,0,800,0;
move -99.89,345.24,0,-24.8,0,0,800,0;
move -103.01,359.78,0,-23.2,0,0,800,0;
move -105.01,371.36,0,-21.42,0,0,800,0;
move -105.86,379.89,0,-19.47,0,0,800,0;
move -105.52,385.32,0,-17.36,0,0,800,0;
move -103.98,387.62,0,-15.13,0,0,800,0;
move -101.22,386.78,0,-12.78,0,0,500,0;
move -97.25,382.81,0,-10.34,0,0,500,0;
move -92.08,375.77,0,-7.82,0,0,500,0;
move -85.72,365.71,0,-5.25,0,0,500,0;
move -78.22,352.73,0,-2.64,0,0,500,0;
move -69.59,336.94,0,-0.02,0,0,500,0;
move -59.91,318.49,0,2.59,0,0,500,0;
move -49.21,297.53,0,5.16,0,0,500,0;
move -37.57,274.25,0,7.69,0,0,500,0;
move -25.06,248.82,0,10.15,0,0,500,0;
move -11.75,221.48,0,12.51,0,0,500,0;
move 2.26,192.45,0,14.77,0,0,500,0;
move 16.89,161.97,0,16.9,0,0,500,0;
move 32.04,130.28,0,18.88,0,0,500,0;
move 47.61,97.658,0,20.7,0,0,400,0;
move 63.49,64.362,0,22.35,0,0,400,0;
move 79.57,30.666,0,23.82,0,0,400,0;
move 95.76,-3.1576,0,25.08,0,0,400,0;
move 111.94,-36.834,0,26.14,0,0,400,0;
move 127.99,-70.091,0,26.98,0,0,400,0;
move 143.82,-102.66,0,27.61,0,0,400,0;
move 159.32,-134.29,0,28,0,0,400,0;
move 174.38,-164.71,0,28.17,0,0,400,0;
move 188.9,-193.7,0,28.11,0,0,400,0;
move 202.79,-221.01,0,27.83,0,0,400,0;
move 215.95,-246.44,0,27.32,0,0,400,0;
move 228.31,-269.79,0,26.59,0,0,400,0;
move 239.78,-290.87,0,25.65,0,0,400,0;
move 250.29,-309.52,0,24.5,0,0,400,0;
move 259.78,-325.61,0,23.16,0,0,400,0;
move 268.2,-339.01,0,21.64,0,0,400,0;
move 275.49,-349.61,0,19.95,0,0,400,0;
move 281.63,-357.36,0,18.1,0,0,500,0;
move 286.58,-362.19,0,16.12,0,0,500,0;
move 290.32,-364.07,0,14.01,0,0,500,0;
move 292.85,-363,0,11.79,0,0,500,0;
move 294.17,-359,0,9.49,0,0,500,0;
move 294.29,-352.12,0,7.12,0,0,500,0;
move 293.22,-342.41,0,4.7,0,0,500,0;
move 291.01,-329.97,0,2.25,0,0,500,0;
move 287.69,-314.91,0,-0.21,0,0,500,0;
move 283.3,-297.36,0,-2.66,0,0,500,0;
move 277.91,-277.46,0,-5.07,0,0,500,0;
move 271.59,-255.4,0,-7.44,0,0,500,0;
move 264.4,-231.35,0,-9.74,0,0,500,0;
move 256.42,-205.51,0,-11.95,0,0,500,0;
move 247.75,-178.11,0,-14.06,0,0,800,0;
move 238.46,-149.37,0,-16.05,0,0,800,0;
move 228.67,-119.52,0,-17.9,0,0,800,0;
move 218.47,-88.812,0,-19.59,0,0,800,0;
move 207.97,-57.498,0,-21.13,0,0,800,0;
move 197.27,-25.832,0,-22.49,0,0,800,0;
move 186.48,5.9294,0,-23.66,0,0,800,0;
move 175.71,37.529,0,-24.63,0,0,800,0;
move 165.07,68.711,0,-25.4,0,0,800,0;
move 154.67,99.226,0,-25.97,0,0,800,0;
move 144.61,128.83,0,-26.32,0,0,800,0;
move 134.99,157.28,0,-26.46,0,0,800,0;
move 125.93,184.37,0,-26.38,0,0,800,0;
move 117.5,209.86,0,-26.1,0,0,800,0;
move 109.81,233.57,0,-25.6,0,0,800,0;
move 102.93,255.3,0,-24.89,0,0,800,0;
move 96.95,274.89,0,-23.99,0,0,800,0;
move 91.93,292.19,0,-22.9,0,0,800,0;
move 87.94,307.06,0,-21.62,0,0,800,0;
move 85.02,319.4,0,-20.18,0,0,800,0;
move 83.24,329.12,0,-18.58,0,0,800,0;
move 82.61,336.14,0,-16.83,0,0,800,0;
move 83.17,340.41,0,-14.95,0,0,800,0;
move 84.94,341.92,0,-12.96,0,0,800,0;
move 87.93,340.66,0,-10.87,0,0,500,0;
move 92.12,336.65,0,-8.71,0,0,500,0;
move 97.52,329.93,0,-6.47,0,0,500,0;
move 104.09,320.57,0,-4.2,0,0,500,0;
move 111.81,308.66,0,-1.9,0,0,500,0;
move 120.63,294.29,0,0.41,0,0,500,0;
move 130.51,277.59,0,2.71,0,0,500,0;
move 141.39,258.71,0,4.97,0,0,500,0;
move 153.2,237.81,0,7.19,0,0,500,0;
move 165.87,215.06,0,9.34,0,0,500,0;
move 179.31,190.65,0,11.41,0,0,500,0;
move 193.45,164.79,0,13.38,0,0,500,0;
move 208.18,137.69,0,15.24,0,0,500,0;
move 223.42,109.58,0,16.96,0,0,500,0;
move 239.05,80.677,0,18.54,0,0,400,0;
move 254.98,51.229,0,19.97,0,0,400,0;
move 271.09,21.473,0,21.23,0,0,400,0;
move 287.28,-8.3505,0,22.31,0,0,400,0;
move 303.45,-37.999,0,23.21,0,0,400,0;
move 319.47,-67.234,0,23.92,0,0,400,0;
move 335.24,-95.82,0,24.43,0,0,400,0;
move 350.66,-123.53,0,24.74,0,0,400,0;
move 365.63,-150.14,0,24.85,0,0,400,0;
move 380.04,-175.44,0,24.76,0,0,400,0;
move 393.8,-199.23,0,24.47,0,0,400,0;
move 406.82,-221.33,0,23.98,0,0,400,0;
move 419.02,-241.56,0,23.31,0,0,400,0;
move 430.31,-259.76,0,22.44,0,0,400,0;
move 440.64,-275.8,0,21.4,0,0,400,0;
move 449.93,-289.55,0,20.19,0,0,400,0;
move 458.14,-300.91,0,18.82,0,0,400,0;
move 465.23,-309.8,0,17.3,0,0,400,0;
move 471.14,-316.15,0,15.65,0,0,500,0;
move 475.86,-319.92,0,13.87,0,0,500,0;
move 479.38,-321.1,0,11.99,0,0,500,0;
move 481.68,-319.67,0,10.03,0,0,500,0;
move 482.78,-315.67,0,7.98,0,0,500,0;
move 482.67,-309.12,0,5.88,0,0,500,0;
move 481.39,-300.11,0,3.74,0,0,500,0;
move 478.97,-288.7,0,1.58,0,0,500,0;
move 475.44,-274.99,0,-0.59,0,0,500,0;
move 470.87,-259.12,0,-2.74,0,0,500,0;
move 465.3,-241.2,0,-4.87,0,0,500,0;
move 458.8,-221.4,0,-6.95,0,0,500,0;
move 451.46,-199.88,0,-8.96,0,0,500,0;
move 443.35,-176.83,0,-10.9,0,0,500,0;
move 434.55,-152.42,0,-12.74,0,0,800,0;
move 425.17,-126.88,0,-14.47,0,0,800,0;
move 415.29,-100.4,0,-16.07,0,0,800,0;
move 405.03,-73.199,0,-17.54,0,0,800,0;
move 394.48,-45.508,0,-18.87,0,0,800,0;
move 383.75,-17.548,0,-20.04,0,0,800,0;
move 372.96,10.453,0,-21.04,0,0,800,0;
move 362.2,38.269,0,-21.86,0,0,800,0;
move 351.6,65.676,0,-22.51,0,0,800,0;
move 341.25,92.453,0,-22.97,0,0,800,0;
move 331.27,118.39,0,-23.25,0,0,800,0;
move 321.75,143.27,0,-23.34,0,0,800,0;
move 312.8,166.91,0,-23.24,0,0,800,0;
move 304.5,189.11,0,-22.95,0,0,800,0;
move 296.96,209.7,0,-22.47,0,0,800,0;
move 290.24,228.53,0,-21.82,0,0,800,0;
move 284.43,245.44,0,-20.99,0,0,800,0;
move 279.6,260.3,0,-20,0,0,800,0;
move 275.8,273.01,0,-18.84,0,0,800,0;
move 273.1,283.46,0,-17.54,0,0,800,0;
move 271.52,291.59,0,-16.1,0,0,800,0;
move 271.12,297.33,0,-14.54,0,0,800,0;
move 271.91,300.65,0,-12.87,0,0,800,0;
move 273.9,301.52,0,-11.09,0,0,500,0;
move 277.11,299.95,0,-9.24,0,0,500,0;
move 281.53,295.97,0,-7.31,0,0,500,0;
move 287.15,289.61,0,-5.34,0,0,500,0;
move 293.94,280.92,0,-3.33,0,0,500,0;
move 301.87,270,0,-1.29,0,0,500,0;
move 310.89,256.94,0,0.74,0,0,500,0;
move 320.97,241.84,0,2.76,0,0,500,0;
move 332.02,224.85,0,4.76,0,0,500,0;
move 344,206.1,0,6.7,0,0,500,0;
move 356.82,185.75,0,8.59,0,0,500,0;
move 370.4,163.97,0,10.4,0,0,500,0;
move 384.65,140.94,0,12.12,0,0,500,0;
move 399.49,116.86,0,13.73,0,0,500,0;
move 414.81,91.922,0,15.23,0,0,500,0;
move 430.5,66.328,0,16.6,0,0,400,0;
move 446.47,40.291,0,17.83,0,0,400,0;
move 462.61,14.021,0,18.91,0,0,400,0;
move 478.8,-12.268,0,19.83,0,0,400,0;
move 494.95,-38.363,0,20.6,0,0,400,0;
move 510.93,-64.054,0,21.19,0,0,400,0;
move 526.65,-89.135,0,21.61,0,0,400,0;
move 541.99,-113.41,0,21.85,0,0,400,0;
move 556.86,-136.67,0,21.91,0,0,400,0;
move 571.16,-158.75,0,21.8,0,0,400,0;
move 584.79,-179.47,0,21.51,0,0,400,0;
move 597.66,-198.66,0,21.05,0,0,400,0;
move 609.69,-216.17,0,20.42,0,0,400,0;
move 620.81,-231.88,0,19.63,0,0,400,0;
move 630.95,-245.65,0,18.68,0,0,400,0;
move 640.05,-257.39,0,17.59,0,0,400,0;
move 648.05,-267.01,0,16.35,0,0,400,0;
move 654.92,-274.43,0,14.99,0,0,400,0;
move 660.61,-279.61,0,13.51,0,0,500,0;
move 665.11,-282.51,0,11.93,0,0,500,0;
move 668.4,-283.12,0,10.26,0,0,500,0;
move 670.48,-281.43,0,8.51,0,0,500,0;
move 671.34,-277.48,0,6.7,0,0,500,0;
move 671.02,-271.3,0,4.84,0,0,500,0;
move 669.52,-262.95,0,2.95,0,0,500,0;
move 666.89,-252.5,0,1.04,0,0,500,0;
move 663.16,-240.05,0,-0.87,0,0,500,0;
move 658.39,-225.7,0,-2.77,0,0,500,0;
move 652.65,-209.58,0,-4.64,0,0,500,0;
move 645.99,-191.82,0,-6.46,0,0,500,0;
move 638.5,-172.58,0,-8.23,0,0,500,0;
move 630.25,-152.01,0,-9.92,0,0,500,0;
move 621.34,-130.29,0,-11.52,0,0,800,0;
move 611.85,-107.59,0,-13.03,0,0,800,0;
move 601.9,-84.102,0,-14.43,0,0,800,0;
move 591.57,-60.019,0,-15.7,0,0,800,0;
move 580.98,-35.539,0,-16.84,0,0,800,0;
move 570.23,-10.859,0,-17.85,0,0,800,0;
move 559.44,13.82,0,-18.7,0,0,800,0;
move 548.7,38.299,0,-19.4,0,0,800,0;
move 538.14,62.38,0,-19.94,0,0,800,0;
move 527.85,85.871,0,-20.32,0,0,800,0;
move 517.95,108.58,0,-20.53,0,0,800,0;
move 508.53,130.34,0,-20.58,0,0,800,0;
move 499.69,150.96,0,-20.46,0,0,800,0;
move 491.53,170.28,0,-20.17,0,0,800,0;
move 484.13,188.16,0,-19.72,0,0,800,0;
move 477.58,204.46,0,-19.12,0,0,800,0;
move 471.95,219.04,0,-18.36,0,0,800,0;
move 467.31,231.8,0,-17.46,0,0,800,0;
move 463.71,242.65,0,-16.41,0,0,800,0;





    ENDPROC
    
! function used to produce movement 
    PROC move(num x, num z,num rx, num ry, num rz,num joint1, num myspeed, num restart)
        
     IF restart = 1 THEN 
         starting_position := CRobT(\TaskName:="T_ROB1" \Tool:=Tooldata_9 \WObj:=Workobject_2);  
     ENDIF 
     
     ConfJ\On; 
     speed:= myspeed;
     velocity := [speed,90,5000,1000];
    
     
     !!!! Method Two !!!!!!
     position :=RelTool(starting_position, x,0, z \Rx:=rx, \Ry:=ry, \Rz:=rz);
     joints := CalcJointT(position,Tooldata_9 \WObj:=Workobject_2);
     joints.robax.rax_1 :=joint1;
     MoveAbsJ joints,velocity,z200,Tooldata_9,\WObj:=wobj0; 
     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
    ENDPROC

 

ENDMODULE